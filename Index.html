<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Site Preto</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: Arial;
      display: flex;
      justify-content: center;
      padding-top: 40px;
    }
    .box {
      width: 100%;
      max-width: 500px;
    }
    textarea {
      width: 100%;
      height: 80px;
      background: #111;
      color: white;
      border: 1px solid #333;
      padding: 10px;
    }
    button {
      width: 100%;
      padding: 10px;
      background: white;
      color: black;
      border: none;
      cursor: pointer;
      margin-top: 5px;
    }
    .post {
      background: #111;
      border: 1px solid #222;
      padding: 8px;
      margin-top: 8px;
    }
  </style>
</head>
<body>

  <div class="box">
    <textarea id="texto" placeholder="Escreva algo..."></textarea>
    <button id="btn">Postar</button>
    <div id="posts"></div>
  </div>

  <!-- LIGA O FIREBASE -->
  <script type="module">
    import { postar, ouvirPosts } from "./script.js";

    const btn = document.getElementById("btn");
    const texto = document.getElementById("texto");
    const postsDiv = document.getElementById("posts");

    btn.onclick = () => {
      postar(texto.value);
      texto.value = "";
    };

    ouvirPosts((lista) => {
      postsDiv.innerHTML = "";
      lista.forEach(p => {
        const d = document.createElement("div");
        d.className = "post";
        d.textContent = p.texto;
        postsDiv.appendChild(d);
      });
    });
  </script>

</body>
</html>